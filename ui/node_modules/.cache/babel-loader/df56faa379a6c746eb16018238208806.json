{"ast":null,"code":"var _class, _temp;\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nimport React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport './AudioPlayer.css';\nvar AudioPlayer = (_temp = _class = function (_PureComponent) {\n  _inherits(AudioPlayer, _PureComponent);\n\n  function AudioPlayer(props) {\n    _classCallCheck(this, AudioPlayer);\n\n    var _this = _possibleConstructorReturn(this, _PureComponent.call(this, props));\n\n    _this.shuffle = function (arr) {\n      return arr.sort(function () {\n        return Math.random() - 0.5;\n      });\n    };\n\n    _this.updateProgress = function () {\n      var _this$audio = _this.audio,\n          duration = _this$audio.duration,\n          currentTime = _this$audio.currentTime;\n      var progress = currentTime * 100 / duration;\n\n      _this.setState({\n        progress: progress\n      });\n    };\n\n    _this.setProgress = function (e) {\n      var target = e.target.nodeName === 'SPAN' ? e.target.parentNode : e.target;\n      var width = target.clientWidth;\n      var rect = target.getBoundingClientRect();\n      var offsetX = e.clientX - rect.left;\n      var duration = _this.audio.duration;\n      var currentTime = duration * offsetX / width;\n      var progress = currentTime * 100 / duration;\n      _this.audio.currentTime = currentTime;\n\n      _this.setState({\n        progress: progress\n      });\n\n      _this.play();\n    };\n\n    _this.play = function () {\n      _this.setState({\n        playing: true\n      });\n\n      _this.audio.play();\n\n      _this.props.onPlay();\n    };\n\n    _this.pause = function () {\n      _this.setState({\n        playing: false\n      });\n\n      _this.audio.pause();\n\n      _this.props.onPause();\n    };\n\n    _this.toggle = function () {\n      return _this.state.playing ? _this.pause() : _this.play();\n    };\n\n    _this.next = function () {\n      var _this$state = _this.state,\n          repeat = _this$state.repeat,\n          current = _this$state.current,\n          songs = _this$state.songs;\n      var total = songs.length;\n      var newSongToPlay = repeat ? current : current < total - 1 ? current + 1 : 0;\n      var active = songs[newSongToPlay];\n\n      _this.setState({\n        current: newSongToPlay,\n        active: active,\n        progress: 0,\n        repeat: false\n      });\n\n      _this.audio.src = active.url;\n\n      _this.play();\n\n      _this.props.onNext();\n    };\n\n    _this.previous = function () {\n      var _this$state2 = _this.state,\n          current = _this$state2.current,\n          songs = _this$state2.songs;\n      var total = songs.length;\n      var newSongToPlay = current > 0 ? current - 1 : total - 1;\n      var active = songs[newSongToPlay];\n\n      _this.setState({\n        current: newSongToPlay,\n        active: active,\n        progress: 0\n      });\n\n      _this.audio.src = active.url;\n\n      _this.play();\n\n      _this.props.onPrevious();\n    };\n\n    _this.randomize = function () {\n      var _this$state3 = _this.state,\n          random = _this$state3.random,\n          songs = _this$state3.songs;\n\n      var shuffled = _this.shuffle(songs.slice());\n\n      _this.setState({\n        songs: !random ? shuffled : songs,\n        random: !random\n      });\n    };\n\n    _this.repeat = function () {\n      return _this.setState({\n        repeat: !_this.state.repeat\n      });\n    };\n\n    _this.toggleMute = function () {\n      var mute = _this.state.mute;\n\n      _this.setState({\n        mute: !mute\n      });\n\n      _this.audio.volume = !!mute;\n    };\n\n    _this.state = {\n      active: props.songs[0],\n      songs: props.songs,\n      current: 0,\n      progress: 0,\n      random: false,\n      playing: !!props.autoplay,\n      repeat: false,\n      mute: false\n    };\n    _this.audio = document.createElement('audio');\n    _this.audio.src = _this.state.active.url;\n    _this.audio.autoplay = !!_this.state.autoplay;\n\n    _this.audio.addEventListener('timeupdate', function (e) {\n      _this.updateProgress();\n\n      props.onTimeUpdate(e);\n    });\n\n    _this.audio.addEventListener('ended', function (e) {\n      if (_this.state.songs.length > 1 || _this.state.repeat) {\n        _this.next();\n      } else {\n        _this.setState({\n          playing: false,\n          progress: 0\n        });\n      }\n\n      props.onEnded(e);\n    });\n\n    _this.audio.addEventListener('error', function (e) {\n      _this.next();\n\n      props.onError(e);\n    });\n\n    return _this;\n  }\n\n  AudioPlayer.prototype.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {\n    this.setState({\n      active: nextProps.songs[0],\n      songs: nextProps.songs,\n      current: 0,\n      progress: 0,\n      random: false,\n      playing: !!nextProps.autoplay,\n      repeat: false,\n      mute: false\n    });\n  };\n\n  AudioPlayer.prototype.render = function render() {\n    var _this2 = this;\n\n    var _state = this.state,\n        currentSong = _state.active,\n        progress = _state.progress,\n        active = _state.active,\n        playing = _state.playing,\n        mute = _state.mute,\n        random = _state.random,\n        repeat = _state.repeat;\n    var coverClass = classnames({\n      'player-cover': true,\n      'no-height': !!active.cover === false\n    });\n    var playPauseClass = classnames({\n      fa: true,\n      'fa-play': !playing,\n      'fa-pause': playing\n    });\n    var volumeClass = classnames({\n      fa: true,\n      'fa-volume-up': !mute,\n      'fa-volume-off': mute\n    });\n    var randomClass = classnames({\n      'player-btn small random': true,\n      active: random\n    });\n    var repeatClass = classnames({\n      'player-btn small repeat': true,\n      active: repeat\n    });\n    return React.createElement('div', {\n      className: 'player-container'\n    }, React.createElement('div', {\n      className: coverClass,\n      style: {\n        backgroundImage: 'url(' + (currentSong.cover || '') + ')'\n      }\n    }), React.createElement('div', {\n      className: 'artist-info'\n    }, React.createElement('h2', {\n      className: 'artist-name'\n    }, currentSong.artist.name), React.createElement('h3', {\n      className: 'artist-song-name'\n    }, currentSong.artist.song)), React.createElement('div', {\n      className: 'player-progress-container',\n      onClick: function onClick(e) {\n        return _this2.setProgress(e);\n      }\n    }, React.createElement('span', {\n      className: 'player-progress-value',\n      style: {\n        width: progress + '%'\n      }\n    })), React.createElement('div', {\n      className: 'player-options'\n    }, React.createElement('div', {\n      className: 'player-buttons player-controls'\n    }, React.createElement('button', {\n      onClick: this.toggle,\n      className: 'player-btn big',\n      title: 'Play/Pause'\n    }, React.createElement('i', {\n      className: playPauseClass\n    })), React.createElement('button', {\n      onClick: this.previous,\n      className: 'player-btn medium',\n      title: 'Previous Song'\n    }, React.createElement('i', {\n      className: 'fa fa-backward'\n    })), React.createElement('button', {\n      onClick: this.next,\n      className: 'player-btn medium',\n      title: 'Next Song'\n    }, React.createElement('i', {\n      className: 'fa fa-forward'\n    }))), React.createElement('div', {\n      className: 'player-buttons'\n    }, React.createElement('button', {\n      className: 'player-btn small volume',\n      onClick: this.toggleMute,\n      title: 'Mute/Unmute'\n    }, React.createElement('i', {\n      className: volumeClass\n    })), React.createElement('button', {\n      className: repeatClass,\n      onClick: this.repeat,\n      title: 'Repeat'\n    }, React.createElement('i', {\n      className: 'fa fa-repeat'\n    })), React.createElement('button', {\n      className: randomClass,\n      onClick: this.randomize,\n      title: 'Shuffle'\n    }, React.createElement('i', {\n      className: 'fa fa-random'\n    })))));\n  };\n\n  return AudioPlayer;\n}(PureComponent), _class.defaultProps = {\n  onTimeUpdate: function onTimeUpdate() {},\n  onEnded: function onEnded() {},\n  onError: function onError() {},\n  onPlay: function onPlay() {},\n  onPause: function onPause() {},\n  onPrevious: function onPrevious() {},\n  onNext: function onNext() {}\n}, _temp);\nAudioPlayer.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  songs: PropTypes.array.isRequired,\n  autoplay: PropTypes.bool,\n  onTimeUpdate: PropTypes.func,\n  onEnded: PropTypes.func,\n  onError: PropTypes.func,\n  onPlay: PropTypes.func,\n  onPause: PropTypes.func,\n  onPrevious: PropTypes.func,\n  onNext: PropTypes.func\n} : {};\nexport default AudioPlayer;","map":{"version":3,"sources":["/Users/santiagocepeda/Desktop/React/Floom/floom/ui/node_modules/react-cl-audio-player/es/index.js"],"names":["_class","_temp","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","React","PureComponent","PropTypes","classnames","AudioPlayer","_PureComponent","props","_this","shuffle","arr","sort","Math","random","updateProgress","_this$audio","audio","duration","currentTime","progress","setState","setProgress","e","target","nodeName","parentNode","width","clientWidth","rect","getBoundingClientRect","offsetX","clientX","left","play","playing","onPlay","pause","onPause","toggle","state","next","_this$state","repeat","current","songs","total","length","newSongToPlay","active","src","url","onNext","previous","_this$state2","onPrevious","randomize","_this$state3","shuffled","slice","toggleMute","mute","volume","autoplay","document","createElement","addEventListener","onTimeUpdate","onEnded","onError","componentWillReceiveProps","nextProps","render","_this2","_state","currentSong","coverClass","cover","playPauseClass","fa","volumeClass","randomClass","repeatClass","className","style","backgroundImage","artist","name","song","onClick","title","defaultProps","propTypes","process","env","NODE_ENV","array","isRequired","bool","func"],"mappings":"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","sourcesContent":["var _class, _temp;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nimport React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport './AudioPlayer.css';\n\nvar AudioPlayer = (_temp = _class = function (_PureComponent) {\n  _inherits(AudioPlayer, _PureComponent);\n\n  function AudioPlayer(props) {\n    _classCallCheck(this, AudioPlayer);\n\n    var _this = _possibleConstructorReturn(this, _PureComponent.call(this, props));\n\n    _this.shuffle = function (arr) {\n      return arr.sort(function () {\n        return Math.random() - 0.5;\n      });\n    };\n\n    _this.updateProgress = function () {\n      var _this$audio = _this.audio,\n          duration = _this$audio.duration,\n          currentTime = _this$audio.currentTime;\n\n      var progress = currentTime * 100 / duration;\n\n      _this.setState({\n        progress: progress\n      });\n    };\n\n    _this.setProgress = function (e) {\n      var target = e.target.nodeName === 'SPAN' ? e.target.parentNode : e.target;\n      var width = target.clientWidth;\n      var rect = target.getBoundingClientRect();\n      var offsetX = e.clientX - rect.left;\n      var duration = _this.audio.duration;\n      var currentTime = duration * offsetX / width;\n      var progress = currentTime * 100 / duration;\n\n      _this.audio.currentTime = currentTime;\n\n      _this.setState({\n        progress: progress\n      });\n\n      _this.play();\n    };\n\n    _this.play = function () {\n      _this.setState({\n        playing: true\n      });\n\n      _this.audio.play();\n\n      _this.props.onPlay();\n    };\n\n    _this.pause = function () {\n      _this.setState({\n        playing: false\n      });\n\n      _this.audio.pause();\n\n      _this.props.onPause();\n    };\n\n    _this.toggle = function () {\n      return _this.state.playing ? _this.pause() : _this.play();\n    };\n\n    _this.next = function () {\n      var _this$state = _this.state,\n          repeat = _this$state.repeat,\n          current = _this$state.current,\n          songs = _this$state.songs;\n\n      var total = songs.length;\n      var newSongToPlay = repeat ? current : current < total - 1 ? current + 1 : 0;\n      var active = songs[newSongToPlay];\n\n      _this.setState({\n        current: newSongToPlay,\n        active: active,\n        progress: 0,\n        repeat: false\n      });\n\n      _this.audio.src = active.url;\n      _this.play();\n      _this.props.onNext();\n    };\n\n    _this.previous = function () {\n      var _this$state2 = _this.state,\n          current = _this$state2.current,\n          songs = _this$state2.songs;\n\n      var total = songs.length;\n      var newSongToPlay = current > 0 ? current - 1 : total - 1;\n      var active = songs[newSongToPlay];\n\n      _this.setState({\n        current: newSongToPlay,\n        active: active,\n        progress: 0\n      });\n\n      _this.audio.src = active.url;\n      _this.play();\n      _this.props.onPrevious();\n    };\n\n    _this.randomize = function () {\n      var _this$state3 = _this.state,\n          random = _this$state3.random,\n          songs = _this$state3.songs;\n\n      var shuffled = _this.shuffle(songs.slice());\n\n      _this.setState({\n        songs: !random ? shuffled : songs,\n        random: !random\n      });\n    };\n\n    _this.repeat = function () {\n      return _this.setState({\n        repeat: !_this.state.repeat\n      });\n    };\n\n    _this.toggleMute = function () {\n      var mute = _this.state.mute;\n\n\n      _this.setState({\n        mute: !mute\n      });\n\n      _this.audio.volume = !!mute;\n    };\n\n    _this.state = {\n      active: props.songs[0],\n      songs: props.songs,\n      current: 0,\n      progress: 0,\n      random: false,\n      playing: !!props.autoplay,\n      repeat: false,\n      mute: false\n    };\n\n    _this.audio = document.createElement('audio');\n    _this.audio.src = _this.state.active.url;\n    _this.audio.autoplay = !!_this.state.autoplay;\n\n    _this.audio.addEventListener('timeupdate', function (e) {\n      _this.updateProgress();\n\n      props.onTimeUpdate(e);\n    });\n    _this.audio.addEventListener('ended', function (e) {\n      if (_this.state.songs.length > 1 || _this.state.repeat) {\n        _this.next();\n      } else {\n        _this.setState({ playing: false, progress: 0 });\n      }\n\n      props.onEnded(e);\n    });\n    _this.audio.addEventListener('error', function (e) {\n      _this.next();\n\n      props.onError(e);\n    });\n    return _this;\n  }\n\n  AudioPlayer.prototype.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {\n    this.setState({\n      active: nextProps.songs[0],\n      songs: nextProps.songs,\n      current: 0,\n      progress: 0,\n      random: false,\n      playing: !!nextProps.autoplay,\n      repeat: false,\n      mute: false\n    });\n  };\n\n  AudioPlayer.prototype.render = function render() {\n    var _this2 = this;\n\n    var _state = this.state,\n        currentSong = _state.active,\n        progress = _state.progress,\n        active = _state.active,\n        playing = _state.playing,\n        mute = _state.mute,\n        random = _state.random,\n        repeat = _state.repeat;\n\n\n    var coverClass = classnames({\n      'player-cover': true,\n      'no-height': !!active.cover === false\n    });\n\n    var playPauseClass = classnames({\n      fa: true,\n      'fa-play': !playing,\n      'fa-pause': playing\n    });\n\n    var volumeClass = classnames({\n      fa: true,\n      'fa-volume-up': !mute,\n      'fa-volume-off': mute\n    });\n\n    var randomClass = classnames({\n      'player-btn small random': true,\n      active: random\n    });\n\n    var repeatClass = classnames({\n      'player-btn small repeat': true,\n      active: repeat\n    });\n\n    return React.createElement(\n      'div',\n      { className: 'player-container' },\n      React.createElement('div', {\n        className: coverClass,\n        style: {\n          backgroundImage: 'url(' + (currentSong.cover || '') + ')'\n        }\n      }),\n      React.createElement(\n        'div',\n        { className: 'artist-info' },\n        React.createElement(\n          'h2',\n          { className: 'artist-name' },\n          currentSong.artist.name\n        ),\n        React.createElement(\n          'h3',\n          { className: 'artist-song-name' },\n          currentSong.artist.song\n        )\n      ),\n      React.createElement(\n        'div',\n        {\n          className: 'player-progress-container',\n          onClick: function onClick(e) {\n            return _this2.setProgress(e);\n          }\n        },\n        React.createElement('span', {\n          className: 'player-progress-value',\n          style: { width: progress + '%' }\n        })\n      ),\n      React.createElement(\n        'div',\n        { className: 'player-options' },\n        React.createElement(\n          'div',\n          { className: 'player-buttons player-controls' },\n          React.createElement(\n            'button',\n            {\n              onClick: this.toggle,\n              className: 'player-btn big',\n              title: 'Play/Pause'\n            },\n            React.createElement('i', { className: playPauseClass })\n          ),\n          React.createElement(\n            'button',\n            {\n              onClick: this.previous,\n              className: 'player-btn medium',\n              title: 'Previous Song'\n            },\n            React.createElement('i', { className: 'fa fa-backward' })\n          ),\n          React.createElement(\n            'button',\n            {\n              onClick: this.next,\n              className: 'player-btn medium',\n              title: 'Next Song'\n            },\n            React.createElement('i', { className: 'fa fa-forward' })\n          )\n        ),\n        React.createElement(\n          'div',\n          { className: 'player-buttons' },\n          React.createElement(\n            'button',\n            {\n              className: 'player-btn small volume',\n              onClick: this.toggleMute,\n              title: 'Mute/Unmute'\n            },\n            React.createElement('i', { className: volumeClass })\n          ),\n          React.createElement(\n            'button',\n            {\n              className: repeatClass,\n              onClick: this.repeat,\n              title: 'Repeat'\n            },\n            React.createElement('i', { className: 'fa fa-repeat' })\n          ),\n          React.createElement(\n            'button',\n            {\n              className: randomClass,\n              onClick: this.randomize,\n              title: 'Shuffle'\n            },\n            React.createElement('i', { className: 'fa fa-random' })\n          )\n        )\n      )\n    );\n  };\n\n  return AudioPlayer;\n}(PureComponent), _class.defaultProps = {\n  onTimeUpdate: function onTimeUpdate() {},\n  onEnded: function onEnded() {},\n  onError: function onError() {},\n  onPlay: function onPlay() {},\n  onPause: function onPause() {},\n  onPrevious: function onPrevious() {},\n  onNext: function onNext() {}\n}, _temp);\nAudioPlayer.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  songs: PropTypes.array.isRequired,\n  autoplay: PropTypes.bool,\n  onTimeUpdate: PropTypes.func,\n  onEnded: PropTypes.func,\n  onError: PropTypes.func,\n  onPlay: PropTypes.func,\n  onPause: PropTypes.func,\n  onPrevious: PropTypes.func,\n  onNext: PropTypes.func\n} : {};\n\n\nexport default AudioPlayer;"]},"metadata":{},"sourceType":"module"}